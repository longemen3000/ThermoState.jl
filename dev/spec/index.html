<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>The Specification Object (Spec) · ThermoState.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://longemen3000.github.io/ThermoState.jl/spec/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ThermoState.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>The Specification Object (<code>Spec</code>)</a><ul class="internal"><li><a class="tocitem" href="#Specification-Object-(Spec)"><span>Specification Object (<code>Spec</code>)</span></a></li></ul></li><li><a class="tocitem" href="../state/">Thermodynamic State Object (<code>ThermodynamicState</code>)</a></li><li><a class="tocitem" href="../utils/">Utilities</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../new_model/">Implementing a model using the <code>ThermoState</code> interface</a></li></ul></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>The Specification Object (<code>Spec</code>)</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>The Specification Object (<code>Spec</code>)</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/longemen3000/ThermoState.jl/blob/master/docs/src/spec.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Specification-Object-(Spec)"><a class="docs-heading-anchor" href="#Specification-Object-(Spec)">Specification Object (<code>Spec</code>)</a><a id="Specification-Object-(Spec)-1"></a><a class="docs-heading-anchor-permalink" href="#Specification-Object-(Spec)" title="Permalink"></a></h2><p>For defining property specifications, the package defines the <code>AbstractSpec</code> types and the <code>Spec</code> container. an individual specification can be defined by:</p><pre><code class="language-julia hljs">using Unitful, ThermoState
h0 = spec(mol_h=&quot;kg/mol&quot;)</code></pre><p>You can create various specifications with the <code>state</code> function:</p><pre><code class="language-julia hljs">st = state(v=990u&quot;m^3/mol&quot;,T=350u&quot;K&quot;,mass=3u&quot;mg&quot;)</code></pre><p>And extract values for the use of property models:</p><pre><code class="language-julia hljs">mass_rho0=mass_density(FromState(),st,&quot;kg/L&quot;,18.0u&quot;g/mol&quot;)</code></pre><p>A <code>Spec</code> is just a tagged value. it can be constructed by two ways:</p><ul><li><p>type-value constructor: </p><pre><code class="language-julia hljs"> t0 = spec(Types.Temperature(),300.15)
 t0 = spec(Types.Temperature(),30u&quot;°C&quot;) #normalized
 t0 = spec(Types.Temperature(),30u&quot;°C&quot;,false) #not normalized</code></pre></li><li><p>type-value constructor (using <code>@spec_str</code> macro): </p><pre><code class="language-julia hljs"> t0 = spec(spec&quot;t&quot;,300.15)
 t0 = spec(spec&quot;t&quot;,30u&quot;°C&quot;) #normalized
 t0 = spec(spec&quot;t&quot;,30u&quot;°C&quot;,false) #not normalized</code></pre><p>by default, unitful quantities are unit stripped and normalized to SI units, you can use the argument <code>normalize_units</code> to change that default.</p></li><li><p>keyword constructor: </p><pre><code class="language-julia hljs"> t0 = spec(t= 300.15)
 t0 = spec(T= 30u&quot;°C&quot;) 
 t0 = spec(T = 30u&quot;°C&quot;,normalize_units= false) </code></pre></li></ul><p>All keyword arguments are stored in the <code>KW_TO_SPEC</code> dict keys. The Main difference between the type-value constructor and the keyword constructor is that the first can be resolved at compile time, where as the second has a runtime cost.</p><p>The result of those operations is a <code>Spec</code> struct:</p><pre><code class="language-julia-repl hljs">julia&gt; t0 = spec(T = 30.0u&quot;°C&quot;)     
spec(t = 303.15[K])

julia&gt; typeof(t0)
Spec{ThermoState.Types.Temperature,Float64}

julia&gt; val_t0 = value(t0) #extracting value
303.15

julia&gt; spec_t0 = specification(t0) #specification of t0 
Temperature()</code></pre><p>an example of a enthalpy specification:</p><pre><code class="language-julia-repl hljs">julia&gt; h0 = spec(mol_h = 3000.0)
spec(mol_h = 3000.0[J mol^-1])

julia&gt; specification(h0)
Enthalpy{MOLAR}()

julia&gt; typeof(h0)
Spec{ThermoState.Types.Enthalpy{ThermoState.Types.MOLAR},Float64} ##?</code></pre><p>In this case, the specification type is a parametric singleton struct: <code>Enthalpy{MOLAR}</code>. the <code>MOLAR</code> parameter is known as a <em>spec modifier</em> , and is used for dispatch in unit transformations and conversions (from molar to mass units, for example).</p><p>There are two special cases with two parameters: volume amounts (molar, total and specific volume, mass and molar density) and material compound proportions (mass numbers, mol numbers, mass fractions and mol fractions). volume amounts are tagged with the specification <code>VolumeAmount{&lt;:SpecModifier,&lt;:SpecModifier}</code> and material compounds tagged with the specification <code>MaterialCompounds{&lt;:SpecModifier,&lt;:SpecModifier}</code>. lets see some examples:</p><pre><code class="language-julia-repl hljs">julia&gt; using ThermoState.Types #importing the spec types for shorter printing


julia&gt; typeof(specification(spec(mol_v = 0.005)))
VolumeAmount{MOLAR,VOLUME}

julia&gt; typeof(spec&quot;mol_v&quot;)
VolumeAmount{MOLAR,VOLUME}

julia&gt; typeof(specification(spec(mass_rho = 875.2)))
VolumeAmount{TOTAL,DENSITY}

julia&gt; typeof(specification(spec(xn = [0.5,0.5])))
MaterialCompounds{MOLAR,FRACTION}

julia&gt; typeof(specification(spec(m = [40.2,35.3])))
MaterialCompounds{MASS,TOTAL_AMOUNT}</code></pre><p>There are two special types: <code>PhaseTag</code> (keyword = <code>phase</code>) and <code>Options</code> (keyword = <code>options</code>). the first is useful to signal an underlying model to calculate just one phase (for example, in cubic equations, the root calculation gives the vapor and liquid volumes). <code>Options</code> accepts a named tuple that can be passed to any underlying model to specify numerical options (choice of differentiation method, maximum iterations,etc).</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../state/">Thermodynamic State Object (<code>ThermodynamicState</code>) »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Friday 16 December 2022 17:33">Friday 16 December 2022</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
